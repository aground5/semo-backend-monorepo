# Default values for OxHR Authentication Server Helm Chart

# ----------------------
# Deployment Settings
# ----------------------

# Namespace to deploy resources into
namespace: semo-staging

# Number of replicas to deploy
replicaCount: 2

# ----------------------
# Container Settings
# ----------------------

# Image configuration
image:
  repository: ghcr.io/wekeepgrowing/semo-authn-server
  tag: "v0.1.1"
  pullPolicy: IfNotPresent

# Resource allocation
resources:
  requests:
    cpu: 100m
    memory: 128Mi
  limits:
    cpu: 2000m
    memory: 1024Mi

# Node selector for pod scheduling
nodeSelector: {}
# kubernetes.io/arch: amd64
# kubernetes.io/os: linux

# ----------------------
# Network Settings
# ----------------------

# Service configuration
service:
  type: ClusterIP
  httpPort: 80
  httpTargetPort: 8080
  grpcPort: 9090
  grpcTargetPort: 9090
  annotations: {}

# Ingress configuration
ingress:
  enabled: true
  className: "nginx"
  annotations:
    # kubernetes.io/ingress.class: nginx
    cert-manager.io/cluster-issuer: letsencrypt-prod
  tls: true
  extraHosts: []
  extraPaths: []

# Health check probe settings
probes:
  liveness:
    path: /
    initialDelaySeconds: 5
    periodSeconds: 10
    timeoutSeconds: 5
  readiness:
    path: /
    initialDelaySeconds: 5
    periodSeconds: 10
    timeoutSeconds: 5

# ----------------------
# Storage Settings
# ----------------------

# Volume configuration
volumes:
  logs:
    enabled: false
    storageClass: longhorn
    size: 1Gi
    accessModes:
      - ReadWriteOnce

# ----------------------
# Application Settings
# ----------------------

# Service identity
serviceName: "semo-authn-server-staging"
baseUrl: "auth-staging-60d7cfa1.semo.world"

# Database configuration
postgres:
  address: "192.168.0.10:45432"
  username: "postgres"
  password: "postgres"
  database: "postgres"
  schema: "public"

# Cache configuration
redis:
  addresses: ["development-redis-master.database:6379"]
  username: "semoauth"
  password: "REMOVED_REDIS_PASSWORD_1"
  database: 1
  tls: false

# Email configuration
email:
  smtp_host: "email-smtp.ap-northeast-2.amazonaws.com"
  smtp_port: 587
  username: "REMOVED_AWS_ACCESS_KEY_ID_1"
  password: "REMOVED_AWS_SES_SMTP_PASSWORD"
  sender_email: "no-reply@semo.world"

# Security configuration
secrets:
  grpc_token: "REMOVED_GRPC_TOKEN_1"
  session_secret: "REMOVED_SESSION_SECRET_1"
  ecdsa_private_key: |
    -----BEGIN EC PRIVATE KEY-----
    REMOVED_ECDSA_PRIVATE_KEY_PART
    REMOVED_ECDSA_PUBLIC_KEY_PART
    REMOVED_KEY_PART==
    -----END EC PRIVATE KEY-----
  ecdsa_public_key: |
    -----BEGIN PUBLIC KEY-----
    REMOVED_KEY_PART
    ZIX5nCldCGqLEJ/JGEbcj3vMREMOVED_KEY_PART==
    -----END PUBLIC KEY-----

# Authentication settings
authn:
  session_expire_min: 1440
  access_jwt_expire_min: 5
  refresh_token_expire_min: 43200

# Logging configuration
logs:
  log_path: ""
  log_level: "info"
  stdout_only: true